{% extends "../common/base.html" %}

{% set hasNavbar = true %}
{% set hasSwiper = true %}
{% set newsSwipers = null %}
{% set hasFooter = false %}

<test>
  {%
  set article = {
  sn: 'snabcd',
  title: '并不是详细说明这个新这里原文中的说明与演示',
  content:
  '并不是详细说明这个新属性的用法，这里主要是用它来完成背景条纹，来看看原文中的说明与演示并不是详细说明这个新属性的用法，这里主要是用它来完成背景条纹，来看看原文中的说明与演示并不是详细说明这个新属性的用法，这里主要是用它来完成背景条纹，来看看原文中的说明与演示并不是详细说明这个新属性的用法，这里主要是用它来完成背景条纹，来看看原文中的说明与演示并不是详细说明这个新属性的用法，这里主要是用它来完成背景条纹，来看看原文中的说明与演示并不是详细说明这个新属性的用法，这里主要是用它来完成背景条纹，来看看原文中的说明与演示并不是详细说明这个新属性的用法，这里主要是用它来完成背景条纹，来看看原文中的说明与演示并不是详细说明这个新属性的用法，这里主要是用它来完成背景条纹，来看看原文中的说明与演示并不是详细说明这个新属性的用法，这里主要是用它来完成背景条纹，来看看原文中的说明与演示并不是详细说明这个新属性的用法，这里主要是用它来完成背景条纹，来看看原文中的说明与演示并不是详细说明这个新属性的用法，这里主要是用它来完成背景条纹，来看看原文中的说明与演示并不是详细说明这个新属性的用法，这里主要是用它来完成背景条纹，来看看原文中的说明与演示并不是详细说明这个新属性的用法，这里主要是用它来完成背景条纹，来看看原文中的说明与演示并不是详细说明这个新属性的用法，这里主要是用它来完成背景条纹，来看看原文中的说明与演示并不是详细说明这个新属性的用法，这里主要是用它来完成背景条纹，来看看原文中的说明与演示并不是详细说明这个新属性的用法，这里主要是用它来完成背景条纹，来看看原文中的说明与演示',
  views: 1230,
  favs: 25,
  author: 'Fengbox',
  video: 'http://www.jplayer.org/video/m4v/Incredibles_Teaser.m4v',
  video_cover: '/static/imgs/web/stats.png2',
  audio: 'https://www.jq22.com/demo/jqueryaudio201903252328/jq22.mp3',
  photoList: [
  '/static/imgs/web/0/photo.jpg',
  '/static/imgs/web/0/photo_1200.jpg',
  '/static/imgs/web/0/001_3.jpg',
  '/static/imgs/web/0/001_4.jpg'
  ],
  photoList0: [
  '/static/imgs/web/0/photo.jpg'
  ]

  }
  %}
</test>

{% block pageBody %}
<div class="navbar-gap article detail detail-image">
  {% if article.audio %}
  <audio class="audio" src="{{article.audio | safe}}" loop autoplay="autoplay" style="display: none;">
    当前浏览器不支持直接播放音频
  </audio>
  {% endif %}

  <div class="swiper-container detail-swiper swiper-outline">
    <div class="swiper-wrapper">
      <div class="swiper-slide">
        {% if article.photoList %}
        <!-- 相册 -->
        <div class="swiper-container detail-swiper swiper-inline">
          <div class="swiper-wrapper">
            {% for img in article.photoList %}
            <div class="swiper-slide">
              <img src="{{img | safe}}">
            </div>
            {% endfor %}
          </div>
          <div class="swiper-pagination"></div>
          <div class="detail-panel">
            {% if article.audio %}
            <i class="icon icon-volume events" id="btnVolume"></i>
            {% endif %}
            <div class="detail-panel-left">
              <i class="icon icon-image"></i>
            </div>
            <div class="detail-panel-center events btn-swiper-next">
              {% if article.content %}
              <i class="icon icon-arrow_bottom"></i>
              {% endif %}
              <b>{{article.title}}</b>
            </div>
            <ul class="detail-panel-right">
              <li>
                <i class="icon icon-view"></i>
                <b>{{article.views}}</b>
              </li>
              <li class="events btn-fav" data-sn="{{article.sn}}">
                <i class="icon icon-fav"></i>
                <b>{{article.favs}}</b>
              </li>
              <li>
                <i class="icon icon-user"></i>
                <b>{{article.author}}</b>
              </li>
            </ul>
          </div>
        </div>
        {% elif article.video %}
        <!-- 视频 -->
        <div class="vplayer">
          <div class="vplayer-content">
            <video class="video" title="{{article.title}}" poster="{{article.video_cover | safe}}" preload="auto"
              playsinline webkit-playsinline x5-video-player-type="h5" x5-video-orientation="landscape"
              controlslist="nodownload" disablePictureInPicture>
              <source src="{{article.video | safe}}" type="video/mp4">
              </source>
              当前浏览器不支持直接播放视频
            </video>
            <div class="vplayer-icon">
              <i class="play-pause icon icon-play"></i>
            </div>
            <div class="vplayer-bar">
              <div class="play-pause icon icon-play"></div>
              <div class="timebar">
                <span class="timebar-current">00:00:00</span>
                <div class="progress">
                  <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                  </div>
                </div>
                <span class="timebar-total">00:00:00</span>
              </div>
              <div class="icon icon-volume">
                <div class="volumebar">
                  <div class="volumewrap">
                    <div class="progress">
                      <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuemin="0"
                        aria-valuemax="100"></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="icon icon-fullscreen"></div>
            </div>
          </div>
          <div class="detail-panel">
            <i class="icon icon-volume events" id="btnVolume"></i>
            <i class="icon icon-play2 detail-panel-left"></i>
            <div class="events detail-panel-center btn-swiper-next">
              {% if article.content %}
              <i class="icon icon-arrow_bottom"></i>
              {% endif %}
              <b>{{article.title}}</b>
            </div>
            <ul class="detail-panel-right">
              <li>
                <i class="icon icon-view"></i>
                <b>{{article.views}}</b>
              </li>
              <li class="events btn-fav" data-sn="{{article.sn}}">
                <i class="icon icon-fav"></i>
                <b>{{article.favs}}</b>
              </li>
              <li>
                <i class="icon icon-user"></i>
                <b>{{article.author}}</b>
              </li>
            </ul>
          </div>
        </div>
        {% endif %}
      </div>
      {% if article.content %}
      <div class="swiper-slide">
        <div class="swiper-scroll">
          <div class="btn-swiper-pre">
            {% if article.photoList %}
            <i class="icon icon-image"></i>
            点击重看图片
            {% else %}
            <i class="icon icon-play"></i>
            点击重看视频
            {% endif %}
          </div>
          <div class="detail-bd">
            <h1 class="detail-title">
              {{article.title | safe}}
            </h1>
            <ul class="detail-icons">
              <li><i class="icon icon-view"></i> <b>{{article.views}}</b></li>
              <li class="btn-fav" data-sn="{{article.sn}}"><i class="icon icon-fav"></i> <b>{{article.favs}}</b></li>
              <li><i class="icon icon-user"></i> <b>{{article.author}}</b></li>
            </ul>
            {% if article.content %}
            <div class="detail-content">
              {{article.content | safe}}
            </div>
            {% endif %}
          </div>
        </div>
      </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}